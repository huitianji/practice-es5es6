<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://static.souyidai.com/wap/js/zepto.min.js"></script>
    <style type="text/css">
        body {
            width: 900px;
            min-height: 500px;
            margin: 0px auto;
            border: 1px solid #cfcfcf;
        }
        p span{
            font-size: 14px;;
            color:red;
        }
        .sydcar-msg{
            display: none;
        }
    </style>
</head>
<body>

<!--<input type="file" id="fileimg">-->

<!--<br>-->

<!--<input type="button" value="button" id="btn">-->
<!--<br>-->
<!--<div>-->
    <!--<img id="imgsrc" src="C:\fakepath\关于我们.jpg" style="width: 100px; height: 100px;" src="">-->
<!--</div>-->

<div class="ge_pic_icon_Infor">
    <img src="images/moren.jpg"/>
</div>
<div class="Infor_file">
    <input type="file" name="uploadPicture" id="file" value="" title="上传照片" />
    <!--<input type="file" name="uploadPicture" id="file" value="点击" title="上传照片" onchange="oFun()"/>-->
</div>



<script>
    function oFun () {
        alert("ok");
    }
$(function () {




    var imgurl = "";
    function getPhoto(node) {
        var imgURL = "";
        try{
            var file = null;
            if(node.files && node.files[0] ){
                file = node.files[0];
            }else if(node.files && node.files.item(0)) {
                file = node.files.item(0);
            }
            //Firefox 因安全性问题已无法直接通过input[file].value 获取完整的文件路径
            try{
                imgURL =  file.getAsDataURL();
            }catch(e){
                imgRUL = window.URL.createObjectURL(file);
            }
        }catch(e){
            if (node.files && node.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    imgURL = e.target.result;
                };
                reader.readAsDataURL(node.files[0]);
            }
        }
        creatImg(imgRUL);
        return imgURL;
    }

    function creatImg(imgRUL){
        var textHtml = "<img src='"+imgRUL+"'width='414px' height='600px'/>";
        $(".ge_pic_icon_Infor").html(textHtml);
    }
    //图片上传显示
    $("#file").on("change", function () {
//        console.log(this, $(this));
        getPhoto(this);
    });

    {
//    var img = document.getElementById('fileimg'),
//            blob = URL.createObjectURL(img.files[0]),
//            newImg = new Image();
//    newImg.onload = drawCanvasImage;
//    newImg.src = img;
//    document.body.appendChild(newImg);
//    console.log(newImg);
        /*
    var oBtn = $("#btn");
    oBtn.on("click", function () {
        var urlA = $("#fileimg").val();
        console.log(urlA);
        //$("#imgsrc").attr("src", urlA)
    });
    */
    }
});
</script>

</body>
</html>